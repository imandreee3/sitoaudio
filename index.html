<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Automatico</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: black;
            overflow: hidden;
            position: relative;
        }
        #startButton, #stopButton {
            position: absolute;
            width: 100vw;
            height: 100vh;
            background-color: black;
            border: none;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 50px;
            text-align: center;
            transition: transform 1s ease-out, font-size 1s ease-out;
        }
        #stopButton {
            display: none;
            background-color: red;
            transition: all 1s ease;
        }
    </style>
</head>
<body>

    <audio id="audio" loop>
        <source src="audio.mp3" type="audio/mpeg">
        Il tuo browser non supporta l'elemento audio.
    </audio>

    <button id="startButton"></button>
    <button id="stopButton">Stop</button>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const audio = document.getElementById("audio");
            const startButton = document.getElementById("startButton");
            const stopButton = document.getElementById("stopButton");
            let buttonSize = 150; // Dimensione iniziale del pulsante
            let textSize = 50; // Dimensione iniziale del testo
            let moveSpeed = 1; // Velocità di movimento del pulsante
            let scaleFactor = 0.95; // Fattore di riduzione del pulsante

            // Alza il volume al massimo quando si clicca il pulsante "Sto Audio"
            startButton.addEventListener("click", function() {
                audio.volume = 1; // Imposta il volume al massimo (1 = volume massimo)
                audio.play();
                startButton.style.display = "none";
                stopButton.style.display = "flex";
                stopButton.textContent = "Sto Audio"; // Aggiungi il testo dopo il primo clic
            });

            // Funzione per ridurre la dimensione del pulsante e cambiare il testo
            function shrinkButton() {
                // Ridurre la dimensione lentamente nel tempo
                if (buttonSize > 50) {
                    buttonSize = buttonSize * scaleFactor; // Riduce la dimensione del pulsante
                    textSize = textSize * scaleFactor; // Riduce la dimensione del testo di più

                    stopButton.style.width = `${buttonSize}px`;
                    stopButton.style.height = `${buttonSize}px`;
                    stopButton.style.fontSize = `${textSize}px`;

                    // Cambia il colore del pulsante
                    const randomColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
                    stopButton.style.backgroundColor = randomColor;

                    // Sposta il pulsante in una posizione casuale con effetto di rimbalzo
                    const screenWidth = window.innerWidth;
                    const screenHeight = window.innerHeight;
                    const newX = Math.random() * (screenWidth - buttonSize);
                    const newY = Math.random() * (screenHeight - buttonSize);

                    stopButton.style.transform = `translate(${newX}px, ${newY}px) scale(1.1)`; // Effetto di rimbalzo (scale)
                    
                    // Aggiungi un ritardo per rimanere nella posizione finale
                    setTimeout(() => {
                        stopButton.style.transform = `translate(${newX}px, ${newY}px) scale(1)`; // Rimbalza al valore normale
                    }, 100); // Il tempo di attesa per rimanere nella posizione

                    stopButton.style.left = `${newX}px`;
                    stopButton.style.top = `${newY}px`;
                }
            }

            // Funzione per cambiare il testo
            function changeText() {
                if (stopButton.textContent === "Stop") {
                    stopButton.textContent = "Sto Audio";
                } else {
                    stopButton.textContent = "Stop";
                }
            }

            // Movimento e cambio di dimensione ogni secondo
            setInterval(() => {
                shrinkButton(); // Riduci dimensione e sposta con effetto di rimbalzo
                changeText(); // Cambia il testo
            }, 1000);

            // Quando si clicca "Stop", il pulsante si sposta, diventa più piccolo, e cambia colore
            stopButton.addEventListener("click", function() {
                shrinkButton(); // Esegui la riduzione e lo spostamento con rimbalzo
                changeText(); // Cambia il testo ogni volta che viene cliccato
            });
        });
    </script>

</body>
</html>


